#!/usr/bin/env lumo

(require 'yargs '[goog.string.format] '[chalk :refer [red green yellow]])

(def argv
  (-> yargs
      (.scriptName "hello")
      (.demandCommand 2)
      (.default "x" 10)
      (.command "oops")
      (.command "ouch")
      (.demandOption "y")
      .-argv
      (js->clj :keywordize-keys true)))

(prn argv)

(let [{:keys [x y]} argv]
  (println
    (goog.string.format "%s x %s is %s" (red x) (green y) (yellow (* x y)))))
